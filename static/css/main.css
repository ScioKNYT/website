* { box-sizing: border-box; }

/* ---------- VARIABLES ---------- */
:root{
  --identity-height:48px;
  --font-sans:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-serif:"PT Serif", Georgia, ui-serif, Cambria, "Times New Roman", Times, serif;

  --baseline-offset:120px;
  --column-start-offset:16px;
  --content-width:650px;
  --sidebar-width:165px;
  --gap:32px;

  --text-color:#111827;
  --bg-color:#ffffff;
  --link-color:#16a34a;
  --link-hover-color:#15803d;
  --footer-opacity:0.5;

  --logo-image: url("/logo_bl.png");
}

/* ---------- THEMES ---------- */
body.dark{
  --text-color:#f3f4f6;
  --bg-color:#030712;
  --link-color:#34d399;
  --link-hover-color:#4ade80;
  --logo-image: url("/logo_wh.png");
}

body.sepia{
  --text-color:#433422;
  --bg-color:#f4ecd8;
  --link-color:#8b6c42;
  --link-hover-color:#6b5332;
  --logo-image: url("/logo_bl.png");
}

body.ocean{
  --text-color:#e2e8f0;
  --bg-color:#0f172a;
  --link-color:#38bdf8;
  --link-hover-color:#7dd3fc;
  --logo-image: url("/logo_wh.png");
}

body.terminal{
  --text-color:#00ff00;
  --bg-color:#0c0c0c;
  --link-color:#00cc00;
  --link-hover-color:#00ff00;
  --logo-image: url("/logo_wh.png");
}

/* ---------- GLOBAL ---------- */
html{
  font-family:var(--font-sans);
  font-size:15px;
  line-height:1.6;
  overflow-y:scroll;
}

body{
  margin:0;
  min-height:100vh;
  background:var(--bg-color);
  color:var(--text-color);
}

/* ---------- LAYOUT ---------- */
.layout{
  display:flex;
  gap:var(--gap);
  max-width:calc(var(--content-width) + var(--sidebar-width) + var(--gap));
  margin-left:200px;
  margin-right:auto;
  width:100%;
  padding-top:200px;
  padding-left:var(--column-start-offset);
}

/* sidebar */
.header{
  width:var(--sidebar-width);
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:flex-start;
  position:sticky;
  top: 200px;
  align-self:flex-start;
  padding-right:calc(var(--gap) - 8px);
}

/* logo */
.logo{ margin-bottom:0; }

.logo-link{
  display:block;
  width:var(--identity-height);
  height:var(--identity-height);
  background-image:var(--logo-image);
  background-size:contain;
  background-repeat:no-repeat;
  background-position:center;
  text-decoration:none;
}

/* nav */
.menu{ list-style:none; padding:0; margin:0; width:100%; }
.menu li{ margin:0; padding:0; }
.menu a{
  display:block;
  padding:8px 0;
  color:var(--text-color);
  opacity:.85;
  text-decoration:none;
  font-weight:500;
}
.menu a:hover{ color:var(--link-hover-color); opacity:1; }
.menu li.active a{ color:var(--link-color); font-weight:600; }

/* content */
.content{
  width:var(--content-width);
  max-width:var(--content-width);
  position:relative;
}

.page-identity{
  display:block;
  font-size:20px;
  font-weight:600;
  margin-bottom:1.6rem;
  letter-spacing:.01em;
  color:var(--text-color);
}
.page-identity a{ color:inherit; text-decoration:none; }
.page-identity a:hover{ color:var(--link-hover-color); }

.prose{
  font-family:var(--font-serif);
  font-size:17px;
  line-height:1.625;
}
.prose > * + *{ margin-top:1.05rem; }

.title{ font-size:28px; font-weight:700; margin:0 0 1rem 0; }

.footer{
  margin-top:5rem;
  font-size:12px;
  opacity:var(--footer-opacity);
}

/* theme toggle */
#theme-toggle{
  position:absolute;
  top:16px;
  right:20px;
  background:none;
  border:none;
  cursor:pointer;
  color:var(--text-color);
  z-index:3000;
  padding:6px;
}

/* ---------- MOBILE ---------- */
@media (max-width:899px){
  :root{
    --identity-height:40px;
    --column-start-offset:20px;
    --gap:20px;
  }

  .layout{
    margin-left:0;
    margin-right:auto;
    padding-left:12px;
    flex-direction:column;
    padding-top:60px;
    gap:16px;
  }

  .header{
    position:relative;
    top:auto;
    width:100%;
    padding-right:0;
    align-items:flex-start;
  }

  .content{
    width:100%;
    padding-left:20px;
    padding-right:20px;
  }

  .page-identity{
    margin-bottom:1rem;
    font-size:18px;
  }

  .prose > * + *{ margin-top:1rem; }
}

/* ---------- DEBUG OVERLAY ---------- */
*{
  outline:6px solid rgba(220,38,38,0.95) !important;
  box-shadow:
    inset 0 0 0 8px rgba(16,185,129,0.85),
    0 0 0 8px rgba(139,0,255,0.65) !important;
}

.page-identity{ line-height:1; }
