/* =========================================
   VARIABLES
   ========================================= */
:root {
    --sidebar-width: 200px;
    --content-width: 650px;
    --gap: 60px;
    --top-spacer: 120px;
}

* { box-sizing: border-box !important; }

html { overflow-y: scroll !important; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important;
    font-size: 15px !important;
    line-height: 1.6 !important;
    background: var(--theme) !important;
    color: var(--primary) !important;
    margin: 0 !important;
    padding: 0 !important;
    min-height: 100vh !important;
}

/* Logo */
.logo a {
    font-size: 0 !important;
    display: inline-block !important;
}
.logo a span {
    display: inline-block !important;
    font-size: 18px !important;
    line-height: 1 !important;
}
.logo img {
    display: none !important; /* fallback if no image */
}

@media (min-width: 900px) {
    .logo a span {
        display: none !important;
    }
    .logo img {
        display: block !important;
        width: 40px !important;
        height: auto !important;
    }
}

/* =========================================
   DESKTOP LAYOUT
   ========================================= */
@media (min-width: 900px) {
    body {
        display: flex !important;
        justify-content: center !important;
        align-items: flex-start !important;
        padding-top: var(--top-spacer) !important;
        padding-bottom: 100px !important;
    }

    .container {
        display: flex !important;
        gap: var(--gap) !important;
        width: calc(var(--sidebar-width) + var(--gap) + var(--content-width)) !important;
        flex-shrink: 0 !important;
    }

    .header {
        width: var(--sidebar-width) !important;
        flex-shrink: 0 !important;
        display: flex !important;
        flex-direction: column !important;
        position: sticky !important;
        top: var(--top-spacer) !important;
        padding: 0 !important;
    }

    .logo {
        margin-bottom: 40px !important;
    }

    #menu {
        display: flex !important;
        flex-direction: column !important;
        list-style: none !important;
        padding: 0 !important;
        margin: 0 !important;
        gap: 6px !important;
    }

    #menu li {
        margin: 0 !important;
        display: block !important;
    }

    .main {
        width: var(--content-width) !important;
        max-width: var(--content-width) !important;
        flex-shrink: 0 !important;
    }

    .main h1 {
        margin-top: 0 !important;
        margin-bottom: 35px !important;
        font-size: 28px !important;
        font-weight: 700 !important;
        line-height: 1.1 !important;
    }

    /* Theme toggle: top-right of content column */
    #theme-toggle {
        position: fixed !important;
        top: calc(var(--top-spacer) + 5px) !important;
        left: calc(50% + (var(--content-width) / 2) + var(--gap) + (var(--sidebar-width) / 2)) !important;
        transform: translateX(-100%) !important;
        background: none !important;
        border: none !important;
        cursor: pointer !important;
    }

    /* Footer under content */
    .footer {
        position: fixed !important;
        bottom: 30px !important;
        left: 50% !important;
        transform: translateX(calc((var(--sidebar-width) + var(--gap)) / 2)) !important;
        width: var(--content-width) !important;
        text-align: center !important;
        font-size: 12px !important;
        opacity: 0.5 !important;
        pointer-events: none !important;
    }
    .footer a {
        pointer-events: auto !important;
    }
}

/* =========================================
   MOBILE
   ========================================= */
@media (max-width: 899px) {
    body {
        padding: 40px 20px 60px !important;
    }

    .header {
        margin-bottom: 40px !important;
    }

    .logo {
        margin-bottom: 20px !important;
    }

    #theme-toggle {
        position: fixed !important;
        top: 45px !important;
        right: 20px !important;
    }

    #menu {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 20px !important;
    }

    #menu li {
        display: inline-block !important;
    }

    .main {
        width: 100% !important;
    }

    .footer {
        position: relative !important;
        text-align: center !important;
        margin-top: 40px !important;
        padding: 0 !important;
        opacity: 0.5 !important;
    }
}

/* Cleanup */
.footer > span:last-child {
    display: none !important;
}
